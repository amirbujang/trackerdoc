{% load count_document %}
<div class="table-responsive">
  <table class="table table-bordered">
    <thead class="thead-light">
      <tr>
        <th rowspan="2">Document Type</th>
        <th colspan="{{ args| length }}">Date</th>
        <th rowspan="2">Total</th>
      </tr>
      <tr>
        {% for arg in args %}
        <th>{{ forloop.counter }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tfoot>
      {% for template in templates %}
      {% if forloop.counter0 == 0 %}
      <tr>
        <th>TOTAL</th>
        {% for arg in args %}
        <th>{{ template|totaldocument_by_status:arg }}</th>
        {% endfor %}
        <th>{{ template|totaldocument_y:"2018" }}</th>
      </tr>
      {% endif %}
      {% endfor %}
    </tfoot>
    <tbody>
      {% for template in templates %}
      <tr>
        <td>{{ template.name }}</td>
        {% for arg in args %}
        <td>{{ template|countdocument_by_status:arg }}</td>
        {% endfor %}
        <td>{{ template|countdocument_by_status:subtotal_args }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
